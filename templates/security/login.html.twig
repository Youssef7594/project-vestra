{% extends 'base.html.twig' %}

{% block title %}Login{% endblock %}

{% block body %}
<body class="body-login">
<main class="main-login">
    
<h1>Connexion</h1>

{% if app.flashes('error') %}
    <div class="alert alert-danger">
        {% for message in app.flashes('error') %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}

<form method="post" action="{{ path('app_login') }}">
    <div class="email-login">
        <label  for="email">Email</label>
        <input type="email" id="email" name="email" value="{{ last_username }}" required>
    </div>
    <div class="password-login">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>
    </div>

    {# si erreur de connexion ce champs s'affichera #}
        {% if error %}
                <div class="text-danger mt-1">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

    <div>
        <button class="btn btn-light btn-sm" type="submit">Log in</button>
    </div>
</form>

    <a href="{{ path('app_register') }}">Create an account</a>



</main>
</body>


{% endblock %}
